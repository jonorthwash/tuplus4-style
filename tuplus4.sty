\ProvidesPackage{tuplus4}[2019/03/07 v.01 a
package for the tu+4 workshop]

%\RequirePackage{graphicx}
\RequirePackage[in]{fullpage}
\RequirePackage[hang,flushmargin]{footmisc}

\RequirePackage[colorlinks=true,citecolor=black,linkcolor=black,urlcolor=blue,breaklinks=true]{hyperref}
\urlstyle{rm}   % to get non-monospace urls; "same" also should work

\RequirePackage[backend=biber,citestyle=lsalike,bibstyle=lsalike,style=authoryear-icomp,maxbibnames=99,maxcitenames=2,uniquelist=false,uniquename=false,hyperref=true,bibencoding=utf8,autolang=other]{biblatex}

%\newcommand*{\project}[1]{\gdef\@project{#1}%
%}
%\newcommand*{\@project}{Final Year Project}
%\newcommand*{\supervisor}[1]{\gdef\@supervisor{#1}%
%}
%\newcommand*{\@supervisor}{\texttt{\string\supervisor} currently
%not set. Please fix this.}

\newenvironment{nscenter}
 {\parskip=0pt\par\nopagebreak\centering}
 {\par\noindent\ignorespacesafterend}

\def\@maketitle{%
  \newpage
  \null
  %\vskip 2em%
  \begin{nscenter}%
  \let \footnote \thanks
    {\bfseries\@title\unskip\strut\par}%
    \medbreak % \medskip is ~6pt, \bigskip is ~12pt
    {
      %\lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}}%\par}%
  \end{nscenter}%
%Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Ut
  %\par
  %\vskip 12pt%
  %\bigbreak%}
  \bigbreak%
%Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Ut}
}

%\renewcommand*{\maketitle}{%
%{\centering%
%	{\bfseries\@title\unskip\strut\par}
%	\vspace{6pt}
%	{\@author\unskip\strut\par}\footnote{\@affiliation}
%}
%}


\renewenvironment{abstract}
  {\list{}{%
    \setlength{\leftmargin}{0.4in}
    \setlength{\rightmargin}{\leftmargin}%
  }%
  \item\relax {\bfseries \abstractname.}}
 {\endlist}


\renewcommand\section{\@startsection {section}{1}{\z@}%
                                   {-3.5ex \@plus -1ex \@minus -.2ex}%
                                   {\z@}%2.3ex \@plus.2ex}%
                                   {\normalfont\normalsize\bfseries\maybe@addperiod}}
\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     %{1.5ex \@plus .2ex}%
                                     {\z@}%
                                     {\normalfont\normalsize\sc\maybe@addperiod}}
\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     %{1.5ex \@plus .2ex}%
                                     {\z@}%
                                     {\normalfont\normalsize\bfseries\maybe@addperiod}}
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
                                    {3.25ex \@plus1ex \@minus.2ex}%
                                    {-1em}%
                                    {\normalfont\normalsize\bfseries\maybe@addperiod}}
\renewcommand\subparagraph{\@startsection{subparagraph}{5}{\parindent}%
                                       {3.25ex \@plus1ex \@minus .2ex}%
                                       {-1em}%
                                      {\normalfont\normalsize\bfseries\maybe@addperiod}}

\newcommand{\maybe@addperiod}[1]{%
  #1.~~%
}

\def\@seccntformat#1{\@ifundefined{#1@cntformat}%
   {\csname the#1\endcsname\space}%    default
   {\csname #1@cntformat\endcsname}}%  enable individual control

\newcommand\section@cntformat{\thesection.\space}       % section-level
\newcommand\subsection@cntformat{\thesubsection.\space} % subsection-level

\newcommand\keywords[1]{\par {\bfseries Keywords.} #1}

\setlength{\parskip}{6pt}
\setlength{\parindent}{0pt}
\setlength{\bibhang}{0.3in}
\linespread{0.93}    % To get Word-style single-spacing
% MS Word with TNR puts about 7 lines in 1 3/16 inches, or about 12.2pt high per line
% XeLaTeX with FreeSerif puts about 11 lines in 2in, or 13.1pt high per line
% So making the line spacing 93% of its previous height gets it much closer to Word line spacing

\RequirePackage{expex}
\lingset{
	aboveexskip=0pt,  % will get \parskip already
	belowexskip=-\parskip, % will get \parksip already, but seems to be too much
	aboveglbskip=0pt,
	aboveglcskip=0pt,
	aboveglftskip=-\parskip,       % 0pt seems to be too much
	belowglpreambleskip=-\parskip, % 0pt seems to be too much
	belowpreambleskip=0pt,
	interpartskip=-\parskip,       % 0pt still leaves about one \parskip of length
	% See issue here: https://github.com/frampton/ExPex/issues/8
	glnabovelineskip=0pt,
   extraglskip=0pt,
}

\endinput
